---
title: 最全的手写js
date: 2021-12-05 14:45:45
permalink: /pages/0233b5d06cbe5/
categories:
  - 面试题
  - 手写系列
tags:
  -
---

## 实现一个 compose 函数

```js
// 用法如下:
function fn1(x) {
  return x + 1;
}
function fn2(x) {
  return x + 2;
}
function fn3(x) {
  return x + 3;
}
function fn4(x) {
  return x + 4;
}
const a = compose(fn1, fn2, fn3, fn4);
console.log(a(1)); // 1+4+3+2+1=11

// 就是把函数按顺序执行
function compose(...fn) {
  if (!fn.length) return (v) => v;
  if (fn.length === 1) return fn[0];
  return fn.reduce((pre, cur) => {
    return (...args) => {
      // 注意这里的顺序，pre在外面
      return pre(cur(...args));
    };
  });
}
```

## settimeout 模拟实现 setinterval(带清除定时器的版本)

setinterval 用来实现循环定时调用 可能会存在一定的问题 能用 settimeout 解决吗

```js
function mySetinterVal(cb, delay) {
  setTimeout(() => {
    cb();
    mySetinterVal(cb, delay);
  }, delay);
}
mySetinterVal(() => {
  console.log(1);
}, 1000);
```

## 参考链接

- <https://github.com/qianlongo/fe-handwriting>
- <https://juejin.cn/post/6968713283884974088>
