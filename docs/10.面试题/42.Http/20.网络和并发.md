---
title: 网络和并发
date: 2022-01-17 14:35:36
permalink: /pages/9e192bc1e358a/
categories:
  - 面试题
  - Http
tags:
  -
---

## http 1.0/1.1/2.0 在并请求上的主要区别

### http/1.0

每次 tcp 连接都只能发送一个请求，当服务器响应后就会关闭此次连接，再次在发送请求还需要再次建立 tcp 连接

### http/1.1

默认采用持续连接，tcp 连接默认不关闭，可以被多个请求复用，不用显式的生命 keep-alive

增加了管道机制，在同一个 tcp 链接里，允许多个请求同时发送，增加了一定的并发性

同一个 tcp 链接里，所有的数据通信是按顺序进行的，如果服务器响应慢，会有很多的请求在排队，造成`对头阻塞`

### http/2.0

加了双工模式，客户端可以同时发送多个请求，服务器也可以同时相应多个请求，解决了 http 的对头阻塞问题

使用了多路复用，同一个 tcp 连接可以并发处理多个请求

服务器可以主动向客户端发起数据。

### http/1.1 长连接和 http/2.0 多路复用的区别

http/1.1 同一时间一个 tcp 连接只能处理一个请求，采用一问一答的形式，上一个请求响应后才能处理下一个请求

由于浏览器最大连接数的限制，所以才有了最大请求数的限制

http/2.0 同域名下的所有通信都在单个连接上完成

### 为什么 http/1.1 无法实现多路复用

数据传输格式的问题

http/1.1 基于文本分割解析的协议

http/2.0 基于二进制帧的协议
